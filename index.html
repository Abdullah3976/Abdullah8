<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ù…Ø³Ø§Ø¹Ø¯ ØªØ§Ù„ØªØ© Ø«Ø§Ù†ÙˆÙŠ & Ø§Ù„Ø£Ø²Ù‡Ø± â€” Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø£Ù…ÙŠÙ†</title>

  <!-- Ø®Ø· Cairo -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    /* ---------------------------
       Styles Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙˆÙ…Ù†Ø¸Ù…Ø©
       --------------------------- */
    :root{
      --bg-1: #0b1822;
      --bg-2: #152934;
      --accent: #00bcd4;
      --accent-2: #ffcc00;
      --card: rgba(255,255,255,0.04);
      --glass: rgba(255,255,255,0.06);
      --text: #e6f7fb;
      --muted: #9fb6bf;
      --radius: 12px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Cairo",system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      color:var(--text);
      background: radial-gradient(circle at 20% 20%, var(--bg-1), #091a27, var(--bg-2));
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding-bottom:40px;
    }

    /* Container */
    .wrap{max-width:1100px;margin:18px auto;padding:14px}

    /* Header */
    header{display:flex;align-items:center;gap:14px;justify-content:flex-start;padding:14px 0}
    .logo {
      width:78px;height:78px;border-radius:50%;overflow:hidden;border:3px solid var(--accent);
      background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);box-shadow:0 8px 20px rgba(0,0,0,0.4);
      display:flex;align-items:center;justify-content:center;
    }
    .brand {display:flex;flex-direction:column}
    .brand h1{margin:0;font-size:1.25rem;font-weight:700;color:#fff}
    .brand p{margin:2px 0 0;color:var(--accent);font-size:0.95rem}

    /* Grid layout */
    .grid {display:grid;grid-template-columns:1fr 380px;gap:16px;margin-top:14px}
    @media (max-width:960px){ .grid {grid-template-columns:1fr} }

    /* Card */
    .card{background:var(--card);padding:14px;border-radius:var(--radius);border-top:3px solid var(--accent);box-shadow:0 10px 30px rgba(0,0,0,0.45)}
    label{display:block;font-weight:700;margin-bottom:8px;color:#cfeff3}

    input[type="text"], select, textarea{
      width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);
      background: rgba(0,0,0,0.22); color:var(--text); font-size:15px; outline:none;
    }
    textarea{min-height:120px;resize:vertical}

    .controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .btn{background:var(--accent);color:#091a27;padding:10px 14px;border-radius:10px;border:none;font-weight:800;cursor:pointer;box-shadow:0 6px 10px rgba(0,0,0,0.35)}
    .btn.secondary{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,0.06);box-shadow:none}
    .btn:active{transform:translateY(1px)}

    /* Preview + output */
    #preview{margin-top:12px;text-align:center}
    #preview img{max-width:100%;border-radius:8px;border:2px solid var(--accent);box-shadow:0 8px 26px rgba(0,0,0,0.4)}
    #output{white-space:pre-wrap;margin-top:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:12px;border-radius:10px;min-height:100px;border:1px solid rgba(255,255,255,0.03);color:var(--text)}

    /* Teachers list */
    .teachers-wrap{margin-top:18px}
    .teachers-grid{display:flex;flex-wrap:wrap;gap:12px;justify-content:flex-start}
    .teacher-card{
      display:flex;gap:12px;align-items:center;background:var(--glass);padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);
      min-width:220px;max-width:260px;
    }
    .teacher-avatar{width:64px;height:64px;border-radius:50%;flex-shrink:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#fff6,#0000);overflow:hidden;border:2px solid rgba(255,255,255,0.04)}
    .teacher-info h4{margin:0;font-size:1rem}
    .teacher-info p{margin:4px 0 0;color:var(--muted);font-size:0.92rem}

    .section-title{color:var(--accent-2);font-weight:800;margin-bottom:10px;display:inline-block;border-bottom:2px solid rgba(255,204,0,0.15);padding-bottom:6px}

    footer{margin-top:24px;text-align:center;color:var(--muted);font-size:0.95rem;padding-top:10px}

    /* small screens */
    @media (max-width:480px){
      .teacher-card{min-width:100%;max-width:100%}
      .logo{width:64px;height:64px}
      .brand h1{font-size:1rem}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- Header -->
    <header>
      <div class="logo" aria-hidden="true">
        <!-- inline SVG logo (ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡ Ø¨ØµÙˆØ±Ø© logo.png Ø¨Ù†ÙØ³ Ø§Ù„Ø§Ø³Ù…) -->
        <svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" aria-hidden="true">
          <rect width="120" height="120" rx="20" fill="rgba(255,255,255,0.02)"/>
          <path d="M34 86 L58 30 L82 86 Z" fill="#ffd166"/>
          <text x="60" y="100" font-size="22" text-anchor="middle" fill="#07202b" font-weight="700">A</text>
        </svg>
      </div>

      <div class="brand">
        <h1>Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø£Ù…ÙŠÙ†</h1>
        <p class="tag">Ù…Ø³Ø§Ø¹Ø¯ ØªØ§Ù„ØªØ© Ø«Ø§Ù†ÙˆÙŠ & Ø§Ù„Ø£Ø²Ù‡Ø± â€” Ø­Ù„ Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©</p>
      </div>
    </header>

    <!-- Grid: main + sidebar -->
    <div class="grid">
      <!-- MAIN COLUMN -->
      <div>
        <!-- Ask card -->
        <div class="card" id="askCard" role="region" aria-labelledby="askTitle">
          <h2 id="askTitle" class="section-title">ğŸ“˜ Ø§Ø³Ø£Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯</h2>

          <label for="teacherName">Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
          <input id="teacherName" type="text" placeholder="Ù…Ø«Ø§Ù„: Ø£/ Ù…Ø­Ù…Ø¯ Ø¹Ø§Ø·Ù">

          <label for="subjectSelect" style="margin-top:10px">Ø§Ù„Ù…Ø§Ø¯Ø©</label>
          <select id="subjectSelect" aria-label="Ø§Ø®ØªØ± Ø§Ù„Ù…Ø§Ø¯Ø©">
            <option value="Ø¹Ø§Ù…">ÙƒÙ„ Ø§Ù„Ù…ÙˆØ§Ø¯</option>
            <optgroup label="Ø¹Ù„Ù…ÙŠ">
              <option value="ÙÙŠØ²ÙŠØ§Ø¡">ÙÙŠØ²ÙŠØ§Ø¡</option><option value="ÙƒÙŠÙ…ÙŠØ§Ø¡">ÙƒÙŠÙ…ÙŠØ§Ø¡</option><option value="Ø£Ø­ÙŠØ§Ø¡">Ø£Ø­ÙŠØ§Ø¡</option><option value="Ø±ÙŠØ§Ø¶ÙŠØ§Øª">Ø±ÙŠØ§Ø¶ÙŠØ§Øª</option>
            </optgroup>
            <optgroup label="Ø£Ø¯Ø¨ÙŠ">
              <option value="ØªØ§Ø±ÙŠØ®">ØªØ§Ø±ÙŠØ®</option><option value="Ø¬ØºØ±Ø§ÙÙŠØ§">Ø¬ØºØ±Ø§ÙÙŠØ§</option><option value="ÙÙ„Ø³ÙØ©">ÙÙ„Ø³ÙØ© ÙˆÙ…Ù†Ø·Ù‚</option>
            </optgroup>
            <optgroup label="Ù„ØºØ§Øª">
              <option value="Ø¹Ø±Ø¨ÙŠ">Ø¹Ø±Ø¨ÙŠ</option><option value="Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ">Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ</option><option value="ÙØ±Ù†Ø³Ø§ÙˆÙŠ">ÙØ±Ù†Ø³Ø§ÙˆÙŠ</option>
            </optgroup>
            <optgroup label="Ø£Ø²Ù‡Ø±">
              <option value="ÙÙ‚Ù‡">ÙÙ‚Ù‡</option><option value="ØªÙØ³ÙŠØ±">ØªÙØ³ÙŠØ±</option><option value="Ø­Ø¯ÙŠØ«">Ø­Ø¯ÙŠØ«</option>
            </optgroup>
          </select>

          <label for="question" style="margin-top:10px">Ø§Ù„Ù…Ø³Ø£Ù„Ø© (Ø§ÙƒØªØ¨ Ø£Ùˆ Ø£Ø±ÙÙ‚ ØµÙˆØ±Ø©)</label>
          <textarea id="question" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ø³Ø£Ù„Ø© Ø¨ÙˆØ¶ÙˆØ­ Ù‡Ù†Ø§..."></textarea>

          <div class="controls">
            <button class="btn" id="solveBtn" onclick="onSolve()">Ø­Ù„ Ø§Ù„Ù…Ø³Ø£Ù„Ø©</button>
            <button class="btn secondary" onclick="openFileSelector()">ğŸ“· Ø±ÙØ¹ Ø£Ùˆ ØªØµÙˆÙŠØ±</button>
            <button class="btn secondary" onclick="clearAll()">Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„</button>
          </div>

          <div id="preview" aria-live="polite"></div>
          <div id="output" aria-live="polite">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª ÙˆØ§Ù„Ø®Ø·ÙˆØ§Øª Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§.</div>
        </div>

        <!-- Teachers featured section -->
        <div class="card teachers-wrap" id="teachersSection" aria-labelledby="teachersTitle" style="margin-top:14px;">
          <h3 id="teachersTitle" class="section-title">ğŸ† Ø£ÙØ¶Ù„ Ù…Ø¯Ø±Ø³ÙŠÙ† Ù…Ù†ÙˆÙ â€” Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</h3>
          <p style="margin:8px 0 12px;color:var(--muted)">Ù‚Ø§Ø¦Ù…Ø© Ù…Ø®ØªØ§Ø±Ø© Ù„Ù…Ø¯Ø±Ù‘Ø³ÙŠÙ† Ù…ÙˆØ«ÙˆÙ‚ÙŠÙ† â€” Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ ÙƒØ§Ø±Øª Ù„Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©.</p>

          <div class="teachers-grid" id="teachersGrid">
            <!-- Teacher cards will be rendered by JS -->
          </div>
        </div>
      </div>

      <!-- SIDEBAR -->
      <aside>
        <div class="card" role="region" aria-labelledby="helpTitle">
          <h4 id="helpTitle" class="section-title">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©</h4>
          <p style="margin:8px 0;color:var(--muted)">â€¢ Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¯Ù‚Ø© Ø±ÙƒØ¨ ØµÙˆØ± ÙˆØ§Ø¶Ø­Ø© Ù„Ù„Ù…Ø³Ø§Ø¦Ù„.<br>â€¢ Ù„Ø­Ù…Ø§ÙŠØ© Ù…ÙØ§ØªÙŠØ­ Ø§Ù„Ù€ API Ø§Ø³ØªØ®Ø¯Ù… Ø®Ø§Ø¯Ù… ÙˆØ³ÙŠØ· (Ø³Ø£Ø±Ø´Ø¯Ùƒ Ù„Ùˆ Ø­Ø¨ÙŠØª).</p>
          <p style="margin-top:8px"><strong>Ø­Ø§Ù„Ø© OCR:</strong> Ù…ÙØ¹Ù‘Ù„ (ØªØ¹Ø±Ù‘Ù Ø¹Ø±Ø¨ÙŠ ÙˆØ¥Ù†Ø¬Ù„ÙŠØ²ÙŠ).</p>
        </div>

        <div class="card" style="margin-top:12px">
          <h4 class="section-title">ØªÙˆØ§ØµÙ„ Ø³Ø±ÙŠØ¹</h4>
          <p style="margin:6px 0;color:var(--muted)"><a href="https://www.instagram.com/ab_da_ll_ah.2193" target="_blank" style="color:var(--accent);text-decoration:none">Ø¥Ù†Ø³ØªØ¬Ø±Ø§Ù…</a> â€¢ <a href="https://t.me/ur_fav_ab" target="_blank" style="color:var(--accent);text-decoration:none">ØªÙ„ÙŠØ¬Ø±Ø§Ù…</a></p>
        </div>
      </aside>
    </div>

    <footer>Â© 2025 Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø£Ù…ÙŠÙ† â€¢ ØµÙÙ…Ù… Ø¨Ø¥ØªÙ‚Ø§Ù† ÙˆÙ‡Ø¯ÙˆØ¡</footer>
  </div>

  <!-- Tesseract.js (OCR) -->
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js"></script>

  <script>
    /* ==========================
       Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠÙ† (Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„)
       - ÙƒÙ„ Ø¹Ù†ØµØ±: id, name, subject, avatar (svg as dataURI or image path)
       - ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ avatar Ø¨Ù‚ÙŠÙ…Ø© "teacher-1.png" Ù„Ùˆ Ø±ÙØ¹Øª Ø§Ù„ØµÙˆØ±Ø© Ù„Ù„Ù…Ù„Ù
       ========================== */
    const TEACHERS = [
      { id: 1, name: "Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ Ù…Ø­Ù…Ø¯ Ø¹Ø§Ø·Ù", subject: "ÙƒÙŠÙ…ÙŠØ§Ø¡", avatar: generateAvatarSVG("Ù…","ÙƒÙŠÙ…ÙŠØ§Ø¡") },
      { id: 2, name: "Ø§Ù„Ø¯ÙƒØªÙˆØ± Ø±ÙŠÙ…ÙˆÙ†", subject: "ÙÙŠØ²ÙŠØ§Ø¡", avatar: generateAvatarSVG("Ø±","ÙÙŠØ²ÙŠØ§Ø¡") },
      { id: 3, name: "Ø§Ù„Ø¯ÙƒØªÙˆØ± Ø³ÙŠØ¯ Ø¨Ø±ÙƒÙ‡", subject: "Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ", avatar: generateAvatarSVG("Ø³","Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ") },
      { id: 4, name: "Ø§Ù„Ø¯ÙƒØªÙˆØ±Ù‡ Ù…ÙŠ Ø§Ù„Ø­Ù„ÙØ§ÙˆÙŠ", subject: "Ø£Ø­ÙŠØ§Ø¡", avatar: generateAvatarSVG("Ù…","Ø£Ø­ÙŠØ§Ø¡") },
      { id: 5, name: "Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³Ù‡ Ù…Ø±ÙŠÙ… Ù‡Ù„Ø§Ù„", subject: "ÙÙŠØ²ÙŠØ§Ø¡", avatar: generateAvatarSVG("Ù…","ÙÙŠØ²ÙŠØ§Ø¡") }
    ];

    /* ============ ÙˆØ¸Ø§Ø¦Ù ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠÙ† ============ */
    const teachersGrid = document.getElementById('teachersGrid');
    function renderTeachers(){
      teachersGrid.innerHTML = '';
      TEACHERS.forEach(t => {
        const div = document.createElement('div');
        div.className = 'teacher-card';
        div.innerHTML = `
          <div class="teacher-avatar" aria-hidden="true">
            <img src="${t.avatar}" alt="${t.name}" style="width:100%;height:100%;object-fit:cover;border-radius:50%">
          </div>
          <div class="teacher-info">
            <h4>${t.name}</h4>
            <p>${t.subject}</p>
          </div>
        `;
        // Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ù†Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ (Ù…Ø«Ù„Ø§Ù‹ Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© Ø¨Ø³ÙŠØ·Ø©)
        div.onclick = () => alert(`${t.name} â€” Ù…Ø§Ø¯Ø©: ${t.subject}\n\nÙ„Ù„ØªÙˆØ§ØµÙ„: ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø£Ùˆ ØªØ§Ø¨Ø¹ Ù‚Ù†Ø§ØªÙ‡Ù… Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ø¥Ø°Ø§ ÙˆÙØ¬Ø¯Øª.`);
        teachersGrid.appendChild(div);
      });
    }

    // Ù…ÙˆÙ„Ø¯ ØµÙˆØ±Ø© svg ÙƒÙ€ data URI (Ø±Ù…Ø²ÙŠØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ø¨Ø³ÙŠØ·Ø©)
    function generateAvatarSVG(initial, subj){
      // Ù†Ø³ØªØ®Ø¯Ù… Ù„ÙˆÙ† Ù…Ø®ØªÙ„Ù Ø¨Ù†Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø§Ø¯Ø©
      const colors = { "ÙƒÙŠÙ…ÙŠØ§Ø¡": "#ff9f1c", "ÙÙŠØ²ÙŠØ§Ø¡": "#ffd166", "Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ": "#8ecae6", "Ø£Ø­ÙŠØ§Ø¡": "#bde0a8" };
      const bg = colors[subj] || "#cdb4db";
      const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'>
        <rect width='120' height='120' rx='20' fill='${bg}' />
        <text x='50%' y='58%' font-size='52' text-anchor='middle' fill='#071b20' font-family='Cairo, sans-serif' font-weight='700'>${escapeHtml(initial)}</text>
      </svg>`;
      return `data:image/svg+xml;charset=utf-8,${encodeURIComponent(svg)}`;
    }

    function escapeHtml(str){ return String(str).replace(/[&<>"']/g, function(m){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]; }); }

    // Ø±Ù†Ø¯Ø± Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠÙ† Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
    renderTeachers();

    /* ==========================
       ÙˆØ¸Ø§Ø¦Ù Ø±ÙØ¹/ÙƒØ§Ù…ÙŠØ±Ø§ + OCR (Tesseract.js)
       ========================== */
    function openFileSelector(){
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = 'image/*';
      input.capture = 'environment';
      input.onchange = async (e) => {
        const file = e.target.files[0];
        if (!file) return;
        showPreview(URL.createObjectURL(file));
        await runOCR(file);
      };
      input.click();
    }

    function showPreview(src){
      const preview = document.getElementById('preview');
      preview.style.display = 'block';
      preview.innerHTML = `<img src="${src}" alt="ØµÙˆØ±Ø© Ø§Ù„Ø³Ø¤Ø§Ù„">`;
    }

    async function runOCR(file){
      const out = document.getElementById('output');
      out.innerText = "â³ Ø¬Ø§Ø±Ù Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØµÙˆØ±Ø© ÙˆØªØ­ÙˆÙŠÙ„Ù‡Ø§ Ø¥Ù„Ù‰ Ù†Øµ...";
      try{
        const { createWorker } = Tesseract;
        const worker = createWorker({
          logger: m => { /* console.log(m); */ }
        });
        await worker.load();
        await worker.loadLanguage('ara+eng');
        await worker.initialize('ara+eng');
        const { data: { text } } = await worker.recognize(file);
        await worker.terminate();
        const cleaned = text.trim();
        if (!cleaned) {
          out.innerText = "âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù†Øµ ÙˆØ§Ø¶Ø­ Ù…Ù† Ø§Ù„ØµÙˆØ±Ø©. Ø¬Ø±Ù‘Ø¨ Ø¥Ø¶Ø§ÙØ© Ø¥Ø¶Ø§Ø¡Ø© Ø£ÙØ¶Ù„ Ø£Ùˆ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ ÙŠØ¯ÙˆÙŠÙ‹Ø§.";
        } else {
          document.getElementById('question').value = cleaned;
          out.innerText = "âœ… ØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ ÙˆÙˆØ¶Ø¹Ù‡ ÙÙŠ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø³Ø¤Ø§Ù„. Ø§Ø¶ØºØ· 'Ø­Ù„ Ø§Ù„Ù…Ø³Ø£Ù„Ø©' Ø§Ù„Ø¢Ù†.";
        }
      }catch(err){
        console.error(err);
        out.innerText = "âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØµÙˆØ±Ø©. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ø£Ùˆ Ø§ÙƒØªØ¨ Ø§Ù„Ø³Ø¤Ø§Ù„ ÙŠØ¯ÙˆÙŠÙ‹Ø§.";
      }
    }

    /* ==========================
       ÙˆØ¸Ø§Ø¦Ù Ø¹Ø§Ù…Ø©: Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
       ========================== */
    function clearAll(){
      document.getElementById('question').value = '';
      document.getElementById('preview').innerHTML = '';
      document.getElementById('output').innerText = 'Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª ÙˆØ§Ù„Ø®Ø·ÙˆØ§Øª Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§.';
      document.getElementById('subjectSelect').value = 'Ø¹Ø§Ù…';
      document.getElementById('teacherName').value = '';
    }

    /* ==========================
       Ø­Ù„ Ø§Ù„Ù…Ø³Ø£Ù„Ø©: Ù†Ù‚Ø·Ø© ØªÙˆØµÙŠÙ„ AI
       - onSolve() ÙŠØ­Ø§ÙˆÙ„ Ø­Ù„ Ù…Ø­Ù„ÙŠ Ø¨Ø³ÙŠØ· Ø£ÙˆÙ„Ø§Ù‹
       - Ø¥Ù† Ù„Ù… ÙŠÙƒÙ† Ù…Ø¹Ø±ÙˆÙØ§Ù‹ ÙŠÙ†Ø§Ø¯ÙŠ callAI() (Ù…ÙƒØ§Ù† Ù…Ø®ØµØµ)
       ========================== */
    async function onSolve(){
      const q = document.getElementById('question').value.trim();
      const subj = document.getElementById('subjectSelect').value;
      const teacher = document.getElementById('teacherName').value.trim();
      const out = document.getElementById('output');

      if (!q) { out.innerText = 'âš ï¸ Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ø³Ø£Ù„Ø© Ø£Ùˆ Ø§Ø±ÙØ¹ ØµÙˆØ±Ø© Ø£ÙˆÙ„Ø§Ù‹.'; return; }
      out.innerText = 'â³ Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù„ÙŠÙ„...';

      // Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ© Ø³Ø±ÙŠØ¹Ø© Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ø³Ø§Ø¦Ù„ Ø´Ø§Ø¦Ø¹Ø© (ØªØ­Ø³ÙŠÙ† ØªØ¯Ø±ÙŠØ¬ÙŠ Ù„Ø§Ø­Ù‚Ø§Ù‹)
      setTimeout(async () => {
        // Ù…Ø«Ø§Ù„: ÙÙŠØ«Ø§ØºÙˆØ±Ø³
        if (/Ù…Ø«Ù„Ø«/i.test(q) && /\b3\b/.test(q) && /\b4\b/.test(q)) {
          out.innerText = `Ø§Ù„Ø®Ø·ÙˆØ© 1: Ù‚Ø§Ù†ÙˆÙ† ÙÙŠØ«Ø§ØºÙˆØ±Ø³: aÂ² + bÂ² = cÂ²\nØ§Ù„Ø®Ø·ÙˆØ© 2: 3Â² + 4Â² = 9 + 16 = 25\nØ§Ù„Ø®Ø·ÙˆØ© 3: c = âˆš25 = 5\nâœ… Ø§Ù„Ø¬ÙˆØ§Ø¨: Ø·ÙˆÙ„ Ø§Ù„ÙˆØªØ± = 5\n${teacher ? '\\nØ§Ù„Ù…Ø¹Ù„Ù…: ' + teacher : ''}`;
          return;
        }
        // Ù…Ø«Ø§Ù„: ØªØ¹Ø±ÙŠÙ Ù‚Ø§Ù†ÙˆÙ† ÙƒÙˆÙ„ÙˆÙ…
        if (/ÙƒÙˆÙ„ÙˆÙ…|Ù‚Ø§Ù†ÙˆÙ† ÙƒÙˆÙ„ÙˆÙ…|Coulomb/i.test(q)) {
          out.innerText = `Ø§Ù„Ø®Ø·ÙˆØ© 1: Ù‚Ø§Ù†ÙˆÙ† ÙƒÙˆÙ„ÙˆÙ…: F = kÂ·q1Â·q2 / rÂ²\nØ§Ù„Ø®Ø·ÙˆØ© 2: Ø¹ÙˆÙ‘Ø¶ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø¹Ø·Ø§Ø© ÙˆØ§Ø­Ø³Ø¨.\n${teacher ? '\\nØ§Ù„Ù…Ø¹Ù„Ù…: ' + teacher : ''}\n\n(Ø¥Ø°Ø§ Ø£Ø±Ø³Ù„Øª Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø¨Ø§Ù„ØµÙŠØºØ©: q1=..., q2=..., r=... Ø³Ø£Ø­Ø³Ø¨ Ù„Ùƒ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¹Ø¯Ø¯ÙŠØ©).`;
          return;
        }
        // Ù…Ø«Ø§Ù„: Ù…ÙˆÙ„Ø§Ø±ÙŠØ©
        if (/Ù…ÙˆÙ„Ø§Ø±ÙŠØ©|Ù…ÙˆÙ„Ø§Ø±|NaCl|Ù…ÙˆÙ„/i.test(q)) {
          out.innerText = `Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ø­Ø³Ø¨ Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ù…ÙˆÙ„ÙŠØ© Ù„Ù„Ù…Ø§Ø¯Ø©\nØ§Ù„Ø®Ø·ÙˆØ© 2: moles = ÙƒØªÙ„Ø© (Ø¬Ù…) / Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ù…ÙˆÙ„ÙŠØ© (Ø¬Ù…/Ù…ÙˆÙ„)\nØ§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ù„Ù…ÙˆÙ„Ø§Ø±ÙŠØ© = moles / Ø§Ù„Ø­Ø¬Ù… (Ù„ØªØ±)\n${teacher ? '\\nØ§Ù„Ù…Ø¹Ù„Ù…: ' + teacher : ''}`;
          return;
        }

        // Ù„Ùˆ Ù„Ù… ÙŠØªØ¹Ø±Ù Ø§Ù„Ù…Ø­Ù„Ù‘ÙŠØŒ Ù†Ø³ØªØ®Ø¯Ù… Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ AI Ø®Ø§Ø±Ø¬ÙŠ (Ù…ÙØ¹Ø·Ù‘Ù‰ Ù„Ø§Ø­Ù‚Ø§Ù‹)
        out.innerText = "â³ Ù„Ù… Ø£ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø¨Ø¯Ù‚Ø© Ù…Ø­Ù„ÙŠÙ‹Ø§ â€” Ø³Ø£Ø±Ø³Ù„ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù„Ù†Ù…ÙˆØ°Ø¬ Ø°ÙƒØ§Ø¡ Ø£Ù‚ÙˆÙ‰...";
        try{
          const ai = await callAI(q, subj, teacher); // ØªÙ†ÙÙŠØ° Ø¹Ù„Ù‰ Ø³ÙŠØ±ÙØ± Ø£Ùˆ API (Ø§Ù†Ø¸Ø± Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø£Ø¯Ù†Ø§Ù‡)
          if (!ai) {
            out.innerText = "âŒ ØªØ¹Ø°Ø± Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø¬Ø§Ø¨Ø© Ù…Ù† Ù†Ù…ÙˆØ°Ø¬ AI Ø§Ù„Ø¢Ù†. ØªØ£ÙƒØ¯ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø£Ùˆ Ø¬Ø±Ø¨ Ù„Ø§Ø­Ù‚Ø§Ù‹.";
          } else {
            out.innerText = ai;
          }
        }catch(err){
          console.error(err);
          out.innerText = "âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø®Ø¯Ù…Ø© AI: " + (err.message || err);
        }
      }, 400);
    }

    /* ==========================
       callAI(question, subject, teacher)
       â€” Ù‡Ø°Ù‡ Ø¯Ø§Ù„Ø© Ù…Ø®ØµØµØ© Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù†Ù…ÙˆØ°Ø¬ Ø®Ø§Ø±Ø¬ÙŠ (Hugging Face / OpenAI / Gemini)
       â€” **Ù‡Ù†Ø§ Ù†Ø¶Ø¹ Ø§Ù„ÙƒÙˆØ¯ ÙƒÙ…Ø«Ø§Ù„ Ø¢Ù…Ù†**: Ù„Ø§ ØªØ¶Ø¹ Ù…ÙØªØ§Ø­ API ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø´Ø±.
       â€” Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø°Ù„Ùƒ: ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¹Ø¯Ø§Ø¯ endpoint ØµØºÙŠØ± Ø¹Ù„Ù‰ Replit / Vercel / Render ÙŠÙ‚ÙˆÙ… Ø¨ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…ÙØªØ§Ø­ ÙˆÙŠØ¹ÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©.
       Ù…Ø«Ø§Ù„ Ù„Ù„ØªÙ†ÙÙŠØ° Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù… (Node/Express) Ø£Ø³ØªØ·ÙŠØ¹ Ø£Ù‚Ø¯Ù…Ù‡ Ù„Ùƒ Ø¹Ù†Ø¯ Ø§Ù„Ø·Ù„Ø¨.
       ========================== */
    async function callAI(question, subject='Ø¹Ø§Ù…', teacher=''){
      /* --- Ù…Ø«Ø§Ù„ ØªÙˆØ¶ÙŠØ­ÙŠ (ØºÙŠØ± Ù…ÙØ¹Ù„) ---
      // Ù…Ø«Ø§Ù„: Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ù„Ø³ÙŠØ±ÙØ±Ùƒ: POST /api/solve { question, subject, teacher }
      // Ø§Ù„Ø³ÙŠØ±ÙØ± ÙŠØªØµÙ„ Ø¨Ù€ Hugging Face / OpenAI ÙˆÙŠØ¹ÙŠØ¯ Ø§Ù„Ù†ØªÙŠØ¬Ø©.
      const resp = await fetch('/api/solve', {
        method:'POST',
        headers:{ 'Content-Type':'application/json' },
        body: JSON.stringify({ question, subject, teacher })
      });
      if (!resp.ok) throw new Error('response ' + resp.status);
      const data = await resp.json();
      return data.answer; // Ù†Øµ Ù…Ø¬Ù†Ù‘Ø± Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±
      --- Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ø«Ø§Ù„ --- */

      // Ø§Ù„Ø¢Ù†: Ù…Ø¬Ø±Ø¯ Ø±Ø³Ø§Ù„Ø© Ù…Ø±Ø¬Ø¹ÙŠØ© Ù„Ø£Ù†Ù†Ø§ Ù„Ù… Ù†Ø±Ø¨Ø· Ø³ÙŠØ±ÙØ± Ø­Ù‚ÙŠÙ‚ÙŠ Ù‡Ù†Ø§.
      return `ğŸ” (Ù†Ù…ÙˆØ°Ø¬ ØªØ¬Ø±ÙŠØ¨ÙŠ) â€” Ù„Ùˆ ÙƒØ§Ù† Ù‡Ø°Ø§ Ù…ØªØµÙ„ Ø¨Ø®Ø§Ø¯Ù… AI ÙƒÙ†Øª Ø³ØªØ­ØµÙ„ Ù‡Ù†Ø§ Ø¹Ù„Ù‰ Ø­Ù„ Ù…ÙØµÙ‘Ù„ Ø¨Ø§Ù„Ø®Ø·ÙˆØ§Øª.\n\nÙ†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„: ${question}\nØ§Ù„Ù…Ø§Ø¯Ø©: ${subject}\n${teacher ? 'Ø§Ù„Ù…Ø¹Ù„Ù…: ' + teacher : ''}\n\nÙ„Ùˆ Ø­Ø§Ø¨Ø¨ Ø£ÙˆØµÙ„Ùƒ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ© Ù„ÙƒÙŠÙ ØªÙ†Ø´Ø¦ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ (Replit/Vercel) ÙˆÙ†ÙˆØµÙ„Ù‡ Ø¨Ù€ Hugging FaceØŒ Ø£Ù‚Ø¯Ø± Ø£Ø´Ø±Ø­ Ù„Ùƒ Ø¯Ù„ÙˆÙ‚ØªÙŠ.`;
    }

    /* ==========================
       Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø³ÙƒØ±Ø¨Øª
       ========================== */
  </script>
</body>
            </html>
